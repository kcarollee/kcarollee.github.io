var SketchBar,AboutBar,ToRightBar,ToLeftBar,ViewBar,AboutRect,fixedMouse=(t,e)=>[t-windowWidth/2,e-windowHeight/2],thumbTexArr=[],ThumbnailArr=[],followPos=[0,0],followX=0,followY=0,easingVal=.04,shaderMode=0,shaderOn=!0,rotateNum=0,aboutShown=!1,aboutShownNum=0,thumbYPos=0;let img,generalFont,pg,domElem,BackgroundShader,ShaderTexture,gl,currentFrontIndex=0;function preload(){generalFont=loadFont("fonts/Monoid-Regular.ttf"),BackgroundShader=loadShader("shaders/BackgroundShader.vert","shaders/BackgroundShader.frag")}function setup(){var t=createCanvas(windowWidth,windowHeight,WEBGL);t.position(0,0),t.style("z-index","-1"),(ShaderTexture=createGraphics(windowWidth,windowHeight,WEBGL)).noStroke();for(let t=0;t<8;t++){var e=loadImage("imgs/mainThumbs/thumb"+t+".jpg");thumbTexArr.push(e)}for(let t=0;t<8;t++){var i=new Thumbnail;i.setTexture(thumbTexArr[t]),i.setTitle(entries[t].title),ThumbnailArr.push(i)}domElem=new DomElements,textFont(generalFont),textSize(15),(SketchBar=new NavBar(width,25,new p5.Vector(0,-height/2*9/10,0))).setText(" Sketches"),SketchBar.barContentShown=!0,(AboutBar=new NavBar(width,25,new p5.Vector(0,-height/2*8/10,0))).setText(" About"),(ToLeftBar=new NavBar(40,20,new p5.Vector(-60,height/2*8/10,0))).setText("<<<<"),(ToRightBar=new NavBar(40,20,new p5.Vector(60,height/2*8/10,0))).setText(">>>>"),(ViewBar=new NavBar(40,20,new p5.Vector(0,height/2*8/10,0))).setText("PLAY"),AboutBar.barContentShown=!1,AboutRect=new AboutPage(width,0,new p5.Vector(.5*-AboutBar.width,-height/2*8/10+.5*AboutBar.height,0)),(gl=this._renderer.GL).disable(gl.DEPTH_TEST)}function setUniformArray(t,e,i){const o=t.uniforms[e],r=o.location;switch(o.type){case gl.FLOAT:o.size>1?gl.uniform1fv(r,i):gl.uniform1f(r,i)}}function draw(){if(shaderOn?(followPos[0]+=(mouseX/windowWidth-followPos[0])*easingVal,followPos[1]+=((windowHeight-mouseY)/windowHeight-followPos[1])*easingVal,ShaderTexture.shader(BackgroundShader),BackgroundShader.setUniform("shaderMode",shaderMode),BackgroundShader.setUniform("resolution",[windowWidth,windowHeight]),BackgroundShader.setUniform("time",millis()/1e3),BackgroundShader.setUniform("mouse",[mouseX,windowHeight-mouseY]),BackgroundShader.setUniform("followPos",[followPos[0],followPos[1]]),ShaderTexture.rect(0,0,windowWidth,windowHeight),background(0),gl.disable(gl.DEPTH_TEST),texture(ShaderTexture),rectMode(CENTER),rect(0,0,windowWidth,windowHeight)):background(0),!AboutRect.fullyLoaded){gl.enable(gl.DEPTH_TEST),push();let t=800;AboutBar.barContentShown&&!SketchBar.barContentShown?(thumbYPos<2.5*windowHeight&&(thumbYPos+=70),AboutRect.height<windowHeight?(AboutRect.height+=50,AboutRect.opacity<1&&(AboutRect.opacity+=.1)):AboutRect.fullyLoaded=!0):SketchBar.barContentShown&&(thumbYPos>0&&(thumbYPos-=70),AboutRect.height>0?(AboutRect.fullyLoaded=!1,AboutRect.height-=50):(AboutRect.fullyLoaded=!1,AboutBar.barContentShown=!1)),translate(0,thumbYPos,-t*cos(PI/8));for(let e=0;e<8;e++)rotateNum>0?e==(8-rotateNum%8)%8?(ThumbnailArr[e].atFront=!0,currentFrontIndex=e):ThumbnailArr[e].atFront=!1:e==(8-(8-abs(rotateNum)%8)%8)%8?(ThumbnailArr[e].atFront=!0,currentFrontIndex=e):ThumbnailArr[e].atFront=!1,push(),rotateY(QUARTER_PI*(e+rotateNum)+PI),translate(0,thumbYPos,-t+3*sin(.05*frameCount+QUARTER_PI*e)),push(),rotateY(PI),ThumbnailArr[e].display(),pop(),pop();pop()}SketchBar.display(),AboutBar.display(),SketchBar.mouseOver(),AboutBar.mouseOver(),AboutBar.setPosition(new p5.Vector(0,-windowHeight/2*8/10,0)),SketchBar.barContentShown&&(ToLeftBar.display(),ToRightBar.display(),ViewBar.display(),ToLeftBar.mouseOver(),ToRightBar.mouseOver(),ViewBar.mouseOver(),fill(255),text(" Press Enter or click 'PLAY' to play sketch.",-220,-windowHeight/2*6.5/10),text(" z: change background x: "+(shaderOn?"disable":"enable")+" background",-windowWidth/2,windowHeight/2*9.75/10)),manageRotation(),AboutBar.barContentShown&&(gl.disable(gl.DEPTH_TEST),AboutRect.display())}function windowResized(){ShaderTexture.resizeCanvas(windowWidth,windowHeight),resizeCanvas(windowWidth,windowHeight),SketchBar.setSize(windowWidth,25),SketchBar.setPosition(new p5.Vector(0,-windowHeight/2*9/10,0)),AboutBar.setSize(windowWidth,25),AboutBar.setPosition(new p5.Vector(0,-windowHeight/2*8/10,0)),ToLeftBar.setPosition(new p5.Vector(-60,windowHeight/2*8/10,0)),ToRightBar.setPosition(new p5.Vector(60,windowHeight/2*8/10,0)),ViewBar.setPosition(new p5.Vector(0,windowHeight/2*8/10,0)),AboutRect.setSize(windowWidth,AboutRect.height),AboutRect.setPosition(new p5.Vector(.5*-AboutBar.width,-height/2*8/10+.5*AboutBar.height,0)),AboutRect.fixPosition(),AboutRect.fixImgSize(),domElem.resizeDimensions(),domElem.fixPosition(),BackgroundShader.setUniform("resolution",[windowWidth,windowHeight])}var turnLeft,turnRight,dest,button,shaderButton;function keyPressed(){switch(keyCode){case LEFT_ARROW:domElem.domCreated||turnRight||turnLeft||(turnLeft=!0,turnRight=!1,dest=rotateNum+1);break;case RIGHT_ARROW:domElem.domCreated||turnLeft||turnRight||(turnRight=!0,turnLeft=!1,dest=rotateNum-1);break;case ENTER:domElem.domCreated||(domElem.domCreated=!0,domElem.createButton(),domElem.createiFrame(entries[currentFrontIndex].vLink),domElem.createAnchor(entries[currentFrontIndex].rLink));break;case ESCAPE:domElem.domCreated&&closeDom()}switch(key){case"z":shaderMode=++shaderMode%3;break;case"x":shaderOn=!shaderOn}}function manageRotation(){turnLeft?rotateNum-dest<.01?(manageRotation.loopNum++,rotateNum+=1e-5*manageRotation.loopNum*(200+manageRotation.loopNum)):(manageRotation.rot=0,manageRotation.loopNum=0,rotateNum=dest,turnLeft=!1):turnRight&&(dest-rotateNum<.01?(manageRotation.loopNum++,rotateNum-=1e-5*manageRotation.loopNum*(200+manageRotation.loopNum)):(manageRotation.rot=0,manageRotation.loopNum=0,rotateNum=dest,turnRight=!1))}function mouseClicked(){AboutBar.mouseOver()&&!domElem.domCreated?(AboutRect.showDom(),frameCount=0,AboutBar.barContentShown=!0,SketchBar.barContentShown=!1):SketchBar.mouseOver()&&(AboutRect.fullyLoaded=!1,AboutRect.hideDom(),SketchBar.barContentShown=!0,0==AboutBar.height&&(AboutBar.barContentShown=!1)),ToLeftBar.mouseOver()?domElem.domCreated||turnRight||turnLeft||(turnLeft=!0,turnRight=!1,dest=rotateNum+1):ToRightBar.mouseOver()?domElem.domCreated||turnLeft||turnRight||(turnRight=!0,turnLeft=!1,dest=rotateNum-1):ViewBar.mouseOver()&&(domElem.domCreated||(domElem.domCreated=!0,domElem.createButton(),domElem.createiFrame(entries[currentFrontIndex].vLink),domElem.createAnchor(entries[currentFrontIndex].rLink)))}p5.disableFriendlyErrors=!0,manageRotation.loopNum=0;class DomElements{constructor(){let t=min(windowWidth,windowHeight);this.w=.75*t,this.h=.75*t,this.currentHeaderHeight=.5*windowHeight,this.domCreated=!1,this.appearedOnce=!1}createiFrame(t){this.iFrame=createElement("iframe"),this.iFrame.attribute("src",t),this.iFrame.attribute("width",this.w+"px"),this.iFrame.attribute("height",this.h+"px"),this.iFrame.attribute("frameBorder","0"),this.iFrame.attribute("scrolling","no"),this.iFrame.attribute("overflow","hidden"),this.iFrame.style("overflow","hidden"),this.iFrame.position(.5*windowWidth-.5*this.w,.5*windowHeight-.5*this.h),this.appearedOnce=!0}createButton(){(button=createButton("close")).position(.5*windowWidth+.5*this.w-40,.5*windowHeight+.5*this.h+13),button.mouseClicked(closeDom),button.style("background-color","black"),button.style("border","none"),button.style("color","white"),button.style("cursor","pointer")}createAnchor(t){this.anchor=createElement("a","View source code"),this.anchor.position(.5*windowWidth-.5*this.w,.5*windowHeight+.5*this.h),this.anchor.attribute("href",t),this.anchor.attribute("target","_blank"),this.anchor.style("color","white"),this.anchor.style("position","relative")}createHeader(t){this.header=createElement("h1",t),this.header.position(.5*windowWidth-300,.5*windowHeight-300-70),this.header.style("color","white")}changePos(t,e){this.iFrame.position(t,e)}resizeDimensions(){let t=min(windowWidth,windowHeight);this.w=.75*t,this.h=.75*t,this.appearedOnce&&(this.iFrame.attribute("width",this.w+"px"),this.iFrame.attribute("height",this.h+"px"))}animate(){var t=.5*windowHeight-300-70;this.currentHeaderHeight>t&&(this.currentHeaderHeight-=1),this.header.position(.5*windowWidth-300,this.currentHeaderHeight)}fixPosition(){this.iFrame.position(.5*windowWidth-.5*this.w,.5*windowHeight-.5*this.h),this.anchor.position(.5*windowWidth-.5*this.w,.5*windowHeight+.5*this.h+15),button.position(.5*windowWidth+.5*this.w-30,.5*windowHeight+.5*this.h+15)}remove(){this.iFrame.remove(),this.anchor.remove(),button.remove()}}function closeDom(){domElem.domCreated=!1,domElem.remove()}class Thumbnail{constructor(){this.atFront=!1}setTexture(t){this.imgTexture=t}setTitle(t){this.text=t}mouseInBounds(){if(this.atFront){let t=fixedMouse(mouseX,mouseY),e=.5*windowWidth,i=.5*windowHeight;return.5*-e<t[0]&&t[0]<.5*e&&.5*-i<t[1]&&t[1]<.5*i}return!1}display(){this.atFront&&(fill(255),textAlign(CENTER,CENTER),text(this.text,0,floor(.3*windowHeight))),texture(this.imgTexture),plane(.5*windowHeight,.5*windowHeight)}}class NavBar{constructor(t,e,i){this.width=t,this.height=e,this.pos=i,this.color=color(255),this.barContentShown=!0}setText(t){this.text=t}setSize(t,e){this.width=t,this.height=e}setPosition(t){this.pos=t}display(){noStroke(),fill(this.color),rectMode(CENTER),rect(this.pos.x,this.pos.y,this.width,this.height),fill(0),text(this.text,this.pos.x-.5*this.width,this.pos.y+.25*this.height)}mouseOver(){let t=fixedMouse(mouseX,mouseY);return.5*-this.width+this.pos.x<t[0]&&t[0]<.5*this.width+this.pos.x&&.5*-this.height+this.pos.y<t[1]&&t[1]<.5*this.height+this.pos.y?(this.color=color("rgba(150, 150, 150, 0.5)"),!0):(this.color=color(255),!1)}}const videoLinks=["https://neort.io/embed/bqracj43p9f48fkisca0?autoStart=true&quality=1&info=true","https://neort.io/embed/bqra2k43p9f48fkisc3g?autoStart=true&quality=1&info=true","https://neort.io/embed/bptmfo43p9fefb92540g?autoStart=true&quality=1&info=true","https://neort.io/embed/bqra06k3p9f48fkisc0g?autoStart=true&quality=1&info=true","https://neort.io/embed/bqrah7k3p9f48fkiscc0?autoStart=true&quality=1&info=true","https://neort.io/embed/bqra6rc3p9f48fkisc50?autoStart=true&quality=1&info=true","https://neort.io/embed/bqraass3p9f48fkisc8g?autoStart=true&quality=1&info=true","https://neort.io/embed/bqra7ec3p9f48fkisc6g?autoStart=true&quality=1&info=true"],repoLinks=["https://github.com/kcarollee/openFrameWorks-Personal-Projects/tree/master/practice_sketch_37_quarantine_audio_vis","https://github.com/kcarollee/openFrameWorks-Personal-Projects/tree/master/practice_sketch_41_audio_visualization_with_random_walkers","https://github.com/kcarollee/openFrameWorks-Personal-Projects/tree/master/practice_sketch_35_post_processing_fbo","https://github.com/kcarollee/openFrameWorks-Personal-Projects/tree/master/practice_sketch_39_ray_march_audio_vis_1","https://github.com/kcarollee/openFrameWorks-Personal-Projects/tree/master/practice_sketch_36_audio_vis_with_fbo","https://github.com/kcarollee/openFrameWorks-Personal-Projects/tree/master/practice_sketch_40_video__cross_sections","https://github.com/kcarollee/openFrameWorks-Personal-Projects/tree/master/practice_sketch_38_first_ray_marching_sketch","https://github.com/kcarollee/openFrameWorks-Personal-Projects/tree/master/practice_sketch_33_webcam_particles"],titles=["QUARANTINE SKETCH","RANDOM WALKERS","FBO POST-PROCESSING","RAY-MARCHING PRACTICE","SCREEN FBO AS TEXTURE","VIDEO IS 3D","RAY-MARCHING PRACTICE","PARTICLES WITH ofxOpenCv"],instaLinks=["https://www.instagram.com/p/B7YIGexnUk5/","https://www.instagram.com/p/B5kjDzKn-MG/","https://www.instagram.com/p/B4SJN5XnQzg/","https://www.instagram.com/p/B6sLbZfHDeu/","https://www.instagram.com/p/B78Nl6zHy2A/","https://www.instagram.com/p/B6dCyrGHrT6/","https://www.instagram.com/p/B9G-DkqHrL1/"],entries=[{vLink:videoLinks[0],rLink:repoLinks[0],title:titles[0]},{vLink:videoLinks[1],rLink:repoLinks[1],title:titles[1]},{vLink:videoLinks[2],rLink:repoLinks[2],title:titles[2]},{vLink:videoLinks[3],rLink:repoLinks[3],title:titles[3]},{vLink:videoLinks[4],rLink:repoLinks[4],title:titles[4]},{vLink:videoLinks[5],rLink:repoLinks[5],title:titles[5]},{vLink:videoLinks[6],rLink:repoLinks[6],title:titles[6]},{vLink:videoLinks[7],rLink:repoLinks[7],title:titles[7]}];class AboutPage{constructor(t,e,i){this.width=t,this.height=e,this.pos=i,this.header=createElement("h1","Dukwon Karl Lee"),this.header.position(10,2.5*windowHeight/20),this.header.style("font-family","customTTF"),this.header.style("font-size","15px"),this.div=createDiv(" Currently majoring in Computer Science at University of Seoul(서울시립대).<br><br> A graphics hopeful creating sketches using openFrameworks, glsl, Processing, and p5.js.<br><br> Currently on my learning backlog are: Touchdesigner, Unity, Three.js, and openFrameworks with emscripten."),this.div.style("font-family","customTTF"),this.div.style("font-size","14px"),this.div.position(10,4*windowHeight/20),this.div.style("font-family","customTTF"),this.div.style("font-size","14px"),this.githubLink=createElement("a","Github"),this.githubLink.attribute("href","https://github.com/kcarollee"),this.githubLink.attribute("target","_blank"),this.githubLink.position(10,19*windowHeight/20),this.githubLink.style("color","white"),this.githubLink.style("font-family","customTTF"),this.githubLink.style("font-size","14px"),this.instaLink=createElement("a","Instagram"),this.instaLink.attribute("href","https://www.instagram.com/kleemotfd/"),this.instaLink.attribute("target","_blank"),this.instaLink.position(80,19*windowHeight/20),this.instaLink.style("color","white"),this.instaLink.style("font-family","customTTF"),this.instaLink.style("font-size","14px"),this.imgAnchorArr=[],this.m=min(windowWidth,windowHeight),this.imgSize=.4*this.m,this.imgNum=instaLinks.length,this.imgBandLength=this.imgSize*this.imgNum,this.opacity=0;for(let t=0;t<this.imgNum;t++){var o=createElement("a","");o.attribute("href",instaLinks[t]),o.attribute("target","_blank"),o.hide();var r=createElement("img","image");r.parent(o),r.attribute("src","imgs/subThumbs/thumb"+t+".jpg"),r.attribute("width",this.imgSize+"px"),r.attribute("height",this.imgSize+"px"),r.style("opacity",this.opacity),r.position(t*this.imgSize,8*windowHeight/20),this.imgAnchorArr.push([o,r])}this.hideDom(),imageMode(CENTER),this.fullyLoaded=!1}fixPosition(){this.header.position(10,2.5*windowHeight/20),this.div.position(10,4*windowHeight/20),this.githubLink.position(10,19*windowHeight/20),this.instaLink.position(80,19*windowHeight/20)}fixImgSize(){this.m=min(windowWidth,windowHeight),this.imgSize=.4*this.m,this.imgNum=instaLinks.length,this.imgBandLength=this.imgSize*this.imgNum;for(let t=0;t<this.imgNum;t++)this.imgAnchorArr[t][1].attribute("width",this.imgSize+"px"),this.imgAnchorArr[t][1].attribute("height",this.imgSize+"px"),this.imgAnchorArr[t][1].position(t*this.imgSize,8*windowHeight/20)}moveImages(){for(let t=0;t<this.imgNum;t++)this.imgAnchorArr[t][1].x>this.imgBandLength-this.imgSize&&(this.imgAnchorArr[t][1].x=-this.imgSize),this.imgAnchorArr[t][1].x+=1,this.imgAnchorArr[t][1].position(this.imgAnchorArr[t][1].x,8*windowHeight/20)}showDom(){this.header.show(),this.div.show(),this.githubLink.show(),this.instaLink.show(),this.imgAnchorArr.forEach(function(t){t[0].show(),t[1].show()})}hideDom(){this.header.hide(),this.div.hide(),this.githubLink.hide(),this.instaLink.hide(),this.imgAnchorArr.forEach(function(t){t[0].hide(),t[1].hide()}),this.opacity=0,this.fullyLoaded=!1}setText(t){this.text=t}setSize(t,e){this.width=t,this.height=e}setPosition(t){this.pos=t}display(){this.moveImages(),rectMode(CORNER),fill("rgba(190, 190, 190, 0.3)"),rect(this.pos.x,this.pos.y,this.width,this.height);for(let t=0;t<this.imgNum;t++)this.imgAnchorArr[t][1].style("opacity",this.opacity)}}